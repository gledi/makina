{% extends 'base.html' %}
{% load static %}
{% block title %}{{ vehicle }} - {{ block.super }}{% endblock title %}

{% block styles %}
{{ block.super }}
<style>
  .detail-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
  }

  .vehicle-info {
    display: flex;
  }

  .vehicle-photos {
    flex-grow: 1;
  }

  .slideshow-container {
    min-height: 480px;
    padding-right: 1rem;
  }
</style>
<link rel="stylesheet" href="{% static 'vehicles/styles/slideshow.css' %}">
{% endblock styles %}


{% block content %}
<div class="detail-header">
  <h3>{{ vehicle|upper }}</h3>
  <div>
    <a href="{% url 'vehicle-edit' pk=vehicle.pk %}">Edit Vehicle</a>
    |
    <a href="{% url 'vehicle-delete' pk=vehicle.pk %}">Delete Vehicle</a>
  </div>
</div>
<section class="vehicle-info">
  <div class="vehicle-photos">
    <div class="slideshow-container">
      {% for photo in vehicle.photos.all %}
      <div class="mySlides fade">
        <div class="numbertext">{{ forloop.counter }} / {{ vehicle.photos.count }}</div>
        <img src="{{ photo.picture.url }}" style="width: 100%">
        <div class="text">Vehicle Pic</div>
      </div>
      {% empty %}
      <div class="mySlides fade">
        <div class="numbertext">0 / 0</div>
        <img src="{% static 'vehicles/images/nophoto.png' %}" style="width: 100%">
        <div class="text">Vehicle Pic</div>
      </div>
      {% endfor %}

      <!-- Next and previous buttons -->
      <a class="prev" onclick="plusSlides(-1)">&#10094;</a>
      <a class="next" onclick="plusSlides(1)">&#10095;</a>
    </div>

    <!-- The dots/circles -->
    <div style="text-align: center">
      {% for photo in vehicle.photos.all %}
      <span class="dot" onclick="currentSlide({{ forloop.counter }})"></span>
      {% endfor %}
    </div>
  </div>
  <div>
    <p>Make: {{ vehicle.make }}</p>
    <p>Model: {{ vehicle.model }}</p>
    <p>Year: {{ vehicle.year }}</p>
    <p>Price: {{ vehicle.price }} EUR</p>
    <p>Transmission: {{ vehicle.transmission }}</p>
    <p>Fuel: {{ vehicle.fuel }}</p>
    <p>Plates: {{ vehicle.plates }}</p>
    <p>Kind: {{ vehicle.kind }}</p>
    <p>Km: {{ vehicle.km }}</p>
    <p>Color: {{ vehicle.color }}</p>
    <p>Description: {{ vehicle.description }}</p>


  </div>
</section>
{% endblock content %}

{% block scripts %}
<script src="{% static 'vehicles/scripts/slideshow.js' %}"></script>
{% endblock scripts %}